grammar org.eclipse.recommenders.snipeditor.SnipDSL with org.eclipse.xtext.xbase.Xbase
import 'http://www.eclipse.org/xtext/xbase/Xbase' as xbase
generate snipDSL "http://www.eclipse.org/recommenders/snipeditor/SnipDSL"

domainmodel:
	importSection += (importDeclare)?
	elements += abstractElement*;

importDeclare:
	'${import}' name = (QualifiedNameWithWildcard | QualifiedName)
;


abstractElement returns xbase::XExpression:
	packageDeclare | entity | attribute | method
;

packageDeclare:
	'package' name = QualifiedName '{'
	(elements += abstractElement)*
	'}'
;


entity:
	(visibility=Visibility)? 'class' name = ValidID 
		('extends' superType=JvmTypeReference )?
	'{'
		features += feature*
	'}'
;

feature returns xbase::XExpression:
	attribute | method
;


parameter :
	parameterType=JvmTypeReference  name = myID;


method:
	(visibility=Visibility)? 'static'? jType = JvmTypeReference
	name=ValidID'('(params+=parameter
		(','params+=parameter)*)?')'
	body=XExpressionInsideBlock
;



attribute returns xbase::XExpression:
	(visible=Visibility)? 'static'? jType = JvmTypeReference
	 name = myID (value=XAssignment)?';'
;
 myID:
 	'${' ValidID '}'
 ;

XExpressionInsideBlock returns xbase::XExpression:
	XExpression | myBlockExpression;

myBlockExpression returns xbase::XExpression:
	{myBlockExpression}
	'{'
		(expressions+=blockFeature ';')*
	'}'
;

blockFeature returns xbase::XExpression:
	attribute | XAssignment
;


enum Visibility:
	 protected | public | private
;



